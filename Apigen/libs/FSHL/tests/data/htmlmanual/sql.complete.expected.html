<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" type="text/css" href="../../../style.css" media="all" /></head><body><pre>
<span class="sql-comment">-- Copyright (c) 2007, 2011, Oracle and/or its affiliates. All rights reserved.</span>
<span class="sql-comment">--</span>
<span class="sql-comment">-- This program is free software; you can redistribute it and/or modify</span>
<span class="sql-comment">-- it under the terms of the GNU General Public License as published by</span>
<span class="sql-comment">-- the Free Software Foundation; version 2 of the License.</span>
<span class="sql-comment">--</span>
<span class="sql-comment">-- This program is distributed in the hope that it will be useful,</span>
<span class="sql-comment">-- but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="sql-comment">-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="sql-comment">-- GNU General Public License for more details.</span>
<span class="sql-comment">--</span>
<span class="sql-comment">-- You should have received a copy of the GNU General Public License</span>
<span class="sql-comment">-- along with this program; if not, write to the Free Software</span>
<span class="sql-comment">-- Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301  USA</span>

<span class="sql-comment">--</span>
<span class="sql-comment">-- The system tables of MySQL Server</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">set</span> sql_mode=<span class="sql-value">''</span>;
<span class="sql-keyword1">set</span> storage_engine=myisam;

<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> db (   Host <span class="sql-keyword3">char</span>(<span class="sql-num">60</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Db <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">User</span> <span class="sql-keyword3">char</span>(<span class="sql-num">16</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Select_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Insert_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Update_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Delete_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Drop_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Grant_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, References_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Index_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Alter_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_tmp_table_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Lock_tables_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_view_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Show_view_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_routine_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Alter_routine_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Execute_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Event_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Trigger_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> Host (Host,Db,<span class="sql-keyword1">User</span>), <span class="sql-keyword1">KEY</span> <span class="sql-keyword1">User</span> (<span class="sql-keyword1">User</span>) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">COLLATE</span> utf8_bin comment=<span class="sql-value">'Database privileges'</span>;

<span class="sql-comment">-- Remember for later if db table already existed</span>
<span class="sql-keyword1">set</span> @had_db_table= @@warning_count != <span class="sql-num">0</span>;

<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> host (  Host <span class="sql-keyword3">char</span>(<span class="sql-num">60</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Db <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Select_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Insert_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Update_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Delete_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Drop_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Grant_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, References_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Index_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Alter_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_tmp_table_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Lock_tables_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_view_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Show_view_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_routine_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Alter_routine_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Execute_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Trigger_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> Host (Host,Db) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">COLLATE</span> utf8_bin comment=<span class="sql-value">'Host privileges;  Merged with database privileges'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> <span class="sql-keyword1">user</span> (   Host <span class="sql-keyword3">char</span>(<span class="sql-num">60</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">User</span> <span class="sql-keyword3">char</span>(<span class="sql-num">16</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Password <span class="sql-keyword3">char</span>(<span class="sql-num">41</span>) <span class="sql-keyword2">character</span> <span class="sql-keyword1">set</span> latin1 <span class="sql-keyword1">collate</span> latin1_bin <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Select_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Insert_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Update_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Delete_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Drop_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Reload_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Shutdown_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Process_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, File_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Grant_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, References_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Index_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Alter_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Show_db_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Super_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_tmp_table_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Lock_tables_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Execute_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Repl_slave_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Repl_client_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_view_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Show_view_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_routine_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Alter_routine_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_user_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Event_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Trigger_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Create_tablespace_priv enum(<span class="sql-value">'N'</span>,<span class="sql-value">'Y'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, ssl_type enum(<span class="sql-value">''</span>,<span class="sql-value">'ANY'</span>,<span class="sql-value">'X509'</span>, <span class="sql-value">'SPECIFIED'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, ssl_cipher <span class="sql-keyword3">BLOB</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, x509_issuer <span class="sql-keyword3">BLOB</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, x509_subject <span class="sql-keyword3">BLOB</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, max_questions <span class="sql-keyword3">int</span>(<span class="sql-num">11</span>) <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-num">0</span>  <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, max_updates <span class="sql-keyword3">int</span>(<span class="sql-num">11</span>) <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-num">0</span>  <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, max_connections <span class="sql-keyword3">int</span>(<span class="sql-num">11</span>) <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-num">0</span>  <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, max_user_connections <span class="sql-keyword3">int</span>(<span class="sql-num">11</span>) <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-num">0</span>  <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, plugin <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span>, authentication_string <span class="sql-keyword3">TEXT</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> Host (Host,<span class="sql-keyword1">User</span>) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">COLLATE</span> utf8_bin comment=<span class="sql-value">'Users and global privileges'</span>;

<span class="sql-comment">-- Remember for later if user table already existed</span>
<span class="sql-keyword1">set</span> @had_user_table= @@warning_count != <span class="sql-num">0</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> func (  <span class="sql-keyword1">name</span> <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, ret <span class="sql-keyword3">tinyint</span>(<span class="sql-num">1</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'0'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, dl <span class="sql-keyword3">char</span>(<span class="sql-num">128</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">type</span> enum (<span class="sql-value">'function'</span>,<span class="sql-value">'aggregate'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> (<span class="sql-keyword1">name</span>) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">COLLATE</span> utf8_bin   comment=<span class="sql-value">'User defined functions'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> plugin ( <span class="sql-keyword1">name</span> <span class="sql-keyword3">varchar</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, dl <span class="sql-keyword3">varchar</span>(<span class="sql-num">128</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> (<span class="sql-keyword1">name</span>) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">COLLATE</span> utf8_general_ci comment=<span class="sql-value">'MySQL plugins'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> servers ( Server_name <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span>, Host <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span>, Db <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span>, Username <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span>, Password <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span>, Port <span class="sql-keyword3">INT</span>(<span class="sql-num">4</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'0'</span>, Socket <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span>, Wrapper <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span>, Owner <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> (Server_name)) <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 comment=<span class="sql-value">'MySQL Foreign Servers table'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> tables_priv ( Host <span class="sql-keyword3">char</span>(<span class="sql-num">60</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Db <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">User</span> <span class="sql-keyword3">char</span>(<span class="sql-num">16</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Table_name <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Grantor <span class="sql-keyword3">char</span>(<span class="sql-num">77</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword3">Timestamp</span> <span class="sql-keyword3">timestamp</span>, Table_priv <span class="sql-keyword1">set</span>(<span class="sql-value">'Select'</span>,<span class="sql-value">'Insert'</span>,<span class="sql-value">'Update'</span>,<span class="sql-value">'Delete'</span>,<span class="sql-value">'Create'</span>,<span class="sql-value">'Drop'</span>,<span class="sql-value">'Grant'</span>,<span class="sql-value">'References'</span>,<span class="sql-value">'Index'</span>,<span class="sql-value">'Alter'</span>,<span class="sql-value">'Create View'</span>,<span class="sql-value">'Show view'</span>,<span class="sql-value">'Trigger'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Column_priv <span class="sql-keyword1">set</span>(<span class="sql-value">'Select'</span>,<span class="sql-value">'Insert'</span>,<span class="sql-value">'Update'</span>,<span class="sql-value">'References'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> (Host,Db,<span class="sql-keyword1">User</span>,Table_name), <span class="sql-keyword1">KEY</span> Grantor (Grantor) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">COLLATE</span> utf8_bin   comment=<span class="sql-value">'Table privileges'</span>;

<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> columns_priv ( Host <span class="sql-keyword3">char</span>(<span class="sql-num">60</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Db <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">User</span> <span class="sql-keyword3">char</span>(<span class="sql-num">16</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Table_name <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Column_name <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword3">Timestamp</span> <span class="sql-keyword3">timestamp</span>, Column_priv <span class="sql-keyword1">set</span>(<span class="sql-value">'Select'</span>,<span class="sql-value">'Insert'</span>,<span class="sql-value">'Update'</span>,<span class="sql-value">'References'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> (Host,Db,<span class="sql-keyword1">User</span>,Table_name,Column_name) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">COLLATE</span> utf8_bin   comment=<span class="sql-value">'Column privileges'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> help_topic ( help_topic_id <span class="sql-keyword3">int</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span>, <span class="sql-keyword1">name</span> <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span>, help_category_id <span class="sql-keyword3">smallint</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span>, description <span class="sql-keyword3">text</span> <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span>, example  <span class="sql-keyword3">text</span> <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span>, url <span class="sql-keyword3">char</span>(<span class="sql-num">128</span>) <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span>, <span class="sql-keyword1">primary</span> <span class="sql-keyword1">key</span> (help_topic_id), <span class="sql-keyword1">unique</span> <span class="sql-keyword1">index</span> (<span class="sql-keyword1">name</span>) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8   comment=<span class="sql-value">'help topics'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> help_category ( help_category_id <span class="sql-keyword3">smallint</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span>, <span class="sql-keyword1">name</span>  <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span>, parent_category_id <span class="sql-keyword3">smallint</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">null</span>, url <span class="sql-keyword3">char</span>(<span class="sql-num">128</span>) <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span>, <span class="sql-keyword1">primary</span> <span class="sql-keyword1">key</span> (help_category_id), <span class="sql-keyword1">unique</span> <span class="sql-keyword1">index</span> (<span class="sql-keyword1">name</span>) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8   comment=<span class="sql-value">'help categories'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> help_relation ( help_topic_id <span class="sql-keyword3">int</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span> <span class="sql-keyword1">references</span> help_topic, help_keyword_id  <span class="sql-keyword3">int</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span> <span class="sql-keyword1">references</span> help_keyword, <span class="sql-keyword1">primary</span> <span class="sql-keyword1">key</span> (help_keyword_id, help_topic_id) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 comment=<span class="sql-value">'keyword-topic relation'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> help_keyword (   help_keyword_id  <span class="sql-keyword3">int</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span>, <span class="sql-keyword1">name</span> <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">not</span> <span class="sql-keyword1">null</span>, <span class="sql-keyword1">primary</span> <span class="sql-keyword1">key</span> (help_keyword_id), <span class="sql-keyword1">unique</span> <span class="sql-keyword1">index</span> (<span class="sql-keyword1">name</span>) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 comment=<span class="sql-value">'help keywords'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> time_zone_name (   <span class="sql-keyword1">Name</span> <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Time_zone_id <span class="sql-keyword3">int</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> <span class="sql-keyword1">Name</span> (<span class="sql-keyword1">Name</span>) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8   comment=<span class="sql-value">'Time zone names'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> time_zone (   Time_zone_id <span class="sql-keyword3">int</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> auto_increment, Use_leap_seconds enum(<span class="sql-value">'Y'</span>,<span class="sql-value">'N'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'N'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> TzId (Time_zone_id) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8   comment=<span class="sql-value">'Time zones'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> time_zone_transition (   Time_zone_id <span class="sql-keyword3">int</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Transition_time <span class="sql-keyword3">bigint</span> signed <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Transition_type_id <span class="sql-keyword3">int</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> TzIdTranTime (Time_zone_id, Transition_time) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8   comment=<span class="sql-value">'Time zone transitions'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> time_zone_transition_type (   Time_zone_id <span class="sql-keyword3">int</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Transition_type_id <span class="sql-keyword3">int</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Offset <span class="sql-keyword3">int</span> signed <span class="sql-keyword1">DEFAULT</span> <span class="sql-num">0</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Is_DST <span class="sql-keyword3">tinyint</span> <span class="sql-keyword1">unsigned</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-num">0</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Abbreviation <span class="sql-keyword3">char</span>(<span class="sql-num">8</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> TzIdTrTId (Time_zone_id, Transition_type_id) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8   comment=<span class="sql-value">'Time zone transition types'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> time_zone_leap_second (   Transition_time <span class="sql-keyword3">bigint</span> signed <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Correction <span class="sql-keyword3">int</span> signed <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> TranTime (Transition_time) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8   comment=<span class="sql-value">'Leap seconds information for time zones'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> proc (db <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">collate</span> utf8_bin <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">name</span> <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">type</span> enum(<span class="sql-value">'FUNCTION'</span>,<span class="sql-value">'PROCEDURE'</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, specific_name <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, language enum(<span class="sql-value">'SQL'</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'SQL'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, sql_data_access enum( <span class="sql-value">'CONTAINS_SQL'</span>, <span class="sql-value">'NO_SQL'</span>, <span class="sql-value">'READS_SQL_DATA'</span>, <span class="sql-value">'MODIFIES_SQL_DATA'</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'CONTAINS_SQL'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, is_deterministic enum(<span class="sql-value">'YES'</span>,<span class="sql-value">'NO'</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'NO'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, security_type enum(<span class="sql-value">'INVOKER'</span>,<span class="sql-value">'DEFINER'</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'DEFINER'</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, param_list <span class="sql-keyword3">blob</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, returns <span class="sql-keyword3">longblob</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, body <span class="sql-keyword3">longblob</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, definer <span class="sql-keyword3">char</span>(<span class="sql-num">77</span>) <span class="sql-keyword1">collate</span> utf8_bin <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, created <span class="sql-keyword3">timestamp</span>, modified <span class="sql-keyword3">timestamp</span>, sql_mode <span class="sql-keyword1">set</span>( <span class="sql-value">'REAL_AS_FLOAT'</span>, <span class="sql-value">'PIPES_AS_CONCAT'</span>, <span class="sql-value">'ANSI_QUOTES'</span>, <span class="sql-value">'IGNORE_SPACE'</span>, <span class="sql-value">'NOT_USED'</span>, <span class="sql-value">'ONLY_FULL_GROUP_BY'</span>, <span class="sql-value">'NO_UNSIGNED_SUBTRACTION'</span>, <span class="sql-value">'NO_DIR_IN_CREATE'</span>, <span class="sql-value">'POSTGRESQL'</span>, <span class="sql-value">'ORACLE'</span>, <span class="sql-value">'MSSQL'</span>, <span class="sql-value">'DB2'</span>, <span class="sql-value">'MAXDB'</span>, <span class="sql-value">'NO_KEY_OPTIONS'</span>, <span class="sql-value">'NO_TABLE_OPTIONS'</span>, <span class="sql-value">'NO_FIELD_OPTIONS'</span>, <span class="sql-value">'MYSQL323'</span>, <span class="sql-value">'MYSQL40'</span>, <span class="sql-value">'ANSI'</span>, <span class="sql-value">'NO_AUTO_VALUE_ON_ZERO'</span>, <span class="sql-value">'NO_BACKSLASH_ESCAPES'</span>, <span class="sql-value">'STRICT_TRANS_TABLES'</span>, <span class="sql-value">'STRICT_ALL_TABLES'</span>, <span class="sql-value">'NO_ZERO_IN_DATE'</span>, <span class="sql-value">'NO_ZERO_DATE'</span>, <span class="sql-value">'INVALID_DATES'</span>, <span class="sql-value">'ERROR_FOR_DIVISION_BY_ZERO'</span>, <span class="sql-value">'TRADITIONAL'</span>, <span class="sql-value">'NO_AUTO_CREATE_USER'</span>, <span class="sql-value">'HIGH_NOT_PRECEDENCE'</span>, <span class="sql-value">'NO_ENGINE_SUBSTITUTION'</span>, <span class="sql-value">'PAD_CHAR_TO_FULL_LENGTH'</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, comment <span class="sql-keyword3">text</span> <span class="sql-keyword1">collate</span> utf8_bin <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, character_set_client <span class="sql-keyword3">char</span>(<span class="sql-num">32</span>) <span class="sql-keyword1">collate</span> utf8_bin, collation_connection <span class="sql-keyword3">char</span>(<span class="sql-num">32</span>) <span class="sql-keyword1">collate</span> utf8_bin, db_collation <span class="sql-keyword3">char</span>(<span class="sql-num">32</span>) <span class="sql-keyword1">collate</span> utf8_bin, body_utf8 <span class="sql-keyword3">longblob</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> (db,<span class="sql-keyword1">name</span>,<span class="sql-keyword1">type</span>)) engine=MyISAM <span class="sql-keyword2">character</span> <span class="sql-keyword1">set</span> utf8 comment=<span class="sql-value">'Stored Procedures'</span>;

<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> procs_priv ( Host <span class="sql-keyword3">char</span>(<span class="sql-num">60</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Db <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">User</span> <span class="sql-keyword3">char</span>(<span class="sql-num">16</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Routine_name <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Routine_type enum(<span class="sql-value">'FUNCTION'</span>,<span class="sql-value">'PROCEDURE'</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Grantor <span class="sql-keyword3">char</span>(<span class="sql-num">77</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Proc_priv <span class="sql-keyword1">set</span>(<span class="sql-value">'Execute'</span>,<span class="sql-value">'Alter Routine'</span>,<span class="sql-value">'Grant'</span>) <span class="sql-keyword1">COLLATE</span> utf8_general_ci <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword3">Timestamp</span> <span class="sql-keyword3">timestamp</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> (Host,Db,<span class="sql-keyword1">User</span>,Routine_name,Routine_type), <span class="sql-keyword1">KEY</span> Grantor (Grantor) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">COLLATE</span> utf8_bin   comment=<span class="sql-value">'Procedure privileges'</span>;

<span class="sql-comment">-- Create general_log if CSV is enabled.</span>

<span class="sql-keyword1">SET</span> @str = IF (@@have_csv = <span class="sql-value">'YES'</span>, <span class="sql-value">'CREATE TABLE IF NOT EXISTS general_log (event_time TIMESTAMP NOT NULL, user_host MEDIUMTEXT NOT NULL, thread_id INTEGER NOT NULL, server_id INTEGER UNSIGNED NOT NULL, command_type VARCHAR(64) NOT NULL, argument MEDIUMTEXT NOT NULL) engine=CSV CHARACTER SET utf8 comment=&quot;General log&quot;'</span>, <span class="sql-value">'SET @dummy = 0'</span>);

<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">-- Create slow_log if CSV is enabled.</span>

<span class="sql-keyword1">SET</span> @str = IF (@@have_csv = <span class="sql-value">'YES'</span>, <span class="sql-value">'CREATE TABLE IF NOT EXISTS slow_log (start_time TIMESTAMP NOT NULL, user_host MEDIUMTEXT NOT NULL, query_time TIME NOT NULL, lock_time TIME NOT NULL, rows_sent INTEGER NOT NULL, rows_examined INTEGER NOT NULL, db VARCHAR(512) NOT NULL, last_insert_id INTEGER NOT NULL, insert_id INTEGER NOT NULL, server_id INTEGER UNSIGNED NOT NULL, sql_text MEDIUMTEXT NOT NULL) engine=CSV CHARACTER SET utf8 comment=&quot;Slow log&quot;'</span>, <span class="sql-value">'SET @dummy = 0'</span>);

<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> event ( db <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">COLLATE</span> utf8_bin <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">default</span> <span class="sql-value">''</span>, <span class="sql-keyword1">name</span> <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">default</span> <span class="sql-value">''</span>, body <span class="sql-keyword3">longblob</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, definer <span class="sql-keyword3">char</span>(<span class="sql-num">77</span>) <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">COLLATE</span> utf8_bin <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">default</span> <span class="sql-value">''</span>, execute_at DATETIME <span class="sql-keyword1">default</span> <span class="sql-keyword1">NULL</span>, interval_value <span class="sql-keyword3">int</span>(<span class="sql-num">11</span>) <span class="sql-keyword1">default</span> <span class="sql-keyword1">NULL</span>, interval_field ENUM(<span class="sql-value">'YEAR'</span>,<span class="sql-value">'QUARTER'</span>,<span class="sql-value">'MONTH'</span>,<span class="sql-value">'DAY'</span>,<span class="sql-value">'HOUR'</span>,<span class="sql-value">'MINUTE'</span>,<span class="sql-value">'WEEK'</span>,<span class="sql-value">'SECOND'</span>,<span class="sql-value">'MICROSECOND'</span>,<span class="sql-value">'YEAR_MONTH'</span>,<span class="sql-value">'DAY_HOUR'</span>,<span class="sql-value">'DAY_MINUTE'</span>,<span class="sql-value">'DAY_SECOND'</span>,<span class="sql-value">'HOUR_MINUTE'</span>,<span class="sql-value">'HOUR_SECOND'</span>,<span class="sql-value">'MINUTE_SECOND'</span>,<span class="sql-value">'DAY_MICROSECOND'</span>,<span class="sql-value">'HOUR_MICROSECOND'</span>,<span class="sql-value">'MINUTE_MICROSECOND'</span>,<span class="sql-value">'SECOND_MICROSECOND'</span>) <span class="sql-keyword1">default</span> <span class="sql-keyword1">NULL</span>, created <span class="sql-keyword3">TIMESTAMP</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, modified <span class="sql-keyword3">TIMESTAMP</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, last_executed DATETIME <span class="sql-keyword1">default</span> <span class="sql-keyword1">NULL</span>, starts DATETIME <span class="sql-keyword1">default</span> <span class="sql-keyword1">NULL</span>, ends DATETIME <span class="sql-keyword1">default</span> <span class="sql-keyword1">NULL</span>, status ENUM(<span class="sql-value">'ENABLED'</span>,<span class="sql-value">'DISABLED'</span>,<span class="sql-value">'SLAVESIDE_DISABLED'</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">default</span> <span class="sql-value">'ENABLED'</span>, on_completion ENUM(<span class="sql-value">'DROP'</span>,<span class="sql-value">'PRESERVE'</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">default</span> <span class="sql-value">'DROP'</span>, sql_mode  <span class="sql-keyword1">set</span>(<span class="sql-value">'REAL_AS_FLOAT'</span>,<span class="sql-value">'PIPES_AS_CONCAT'</span>,<span class="sql-value">'ANSI_QUOTES'</span>,<span class="sql-value">'IGNORE_SPACE'</span>,<span class="sql-value">'NOT_USED'</span>,<span class="sql-value">'ONLY_FULL_GROUP_BY'</span>,<span class="sql-value">'NO_UNSIGNED_SUBTRACTION'</span>,<span class="sql-value">'NO_DIR_IN_CREATE'</span>,<span class="sql-value">'POSTGRESQL'</span>,<span class="sql-value">'ORACLE'</span>,<span class="sql-value">'MSSQL'</span>,<span class="sql-value">'DB2'</span>,<span class="sql-value">'MAXDB'</span>,<span class="sql-value">'NO_KEY_OPTIONS'</span>,<span class="sql-value">'NO_TABLE_OPTIONS'</span>,<span class="sql-value">'NO_FIELD_OPTIONS'</span>,<span class="sql-value">'MYSQL323'</span>,<span class="sql-value">'MYSQL40'</span>,<span class="sql-value">'ANSI'</span>,<span class="sql-value">'NO_AUTO_VALUE_ON_ZERO'</span>,<span class="sql-value">'NO_BACKSLASH_ESCAPES'</span>,<span class="sql-value">'STRICT_TRANS_TABLES'</span>,<span class="sql-value">'STRICT_ALL_TABLES'</span>,<span class="sql-value">'NO_ZERO_IN_DATE'</span>,<span class="sql-value">'NO_ZERO_DATE'</span>,<span class="sql-value">'INVALID_DATES'</span>,<span class="sql-value">'ERROR_FOR_DIVISION_BY_ZERO'</span>,<span class="sql-value">'TRADITIONAL'</span>,<span class="sql-value">'NO_AUTO_CREATE_USER'</span>,<span class="sql-value">'HIGH_NOT_PRECEDENCE'</span>,<span class="sql-value">'NO_ENGINE_SUBSTITUTION'</span>,<span class="sql-value">'PAD_CHAR_TO_FULL_LENGTH'</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, comment <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">COLLATE</span> utf8_bin <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">default</span> <span class="sql-value">''</span>, originator <span class="sql-keyword3">INTEGER</span> <span class="sql-keyword1">UNSIGNED</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, time_zone <span class="sql-keyword3">char</span>(<span class="sql-num">64</span>) <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> latin1 <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">'SYSTEM'</span>, character_set_client <span class="sql-keyword3">char</span>(<span class="sql-num">32</span>) <span class="sql-keyword1">collate</span> utf8_bin, collation_connection <span class="sql-keyword3">char</span>(<span class="sql-num">32</span>) <span class="sql-keyword1">collate</span> utf8_bin, db_collation <span class="sql-keyword3">char</span>(<span class="sql-num">32</span>) <span class="sql-keyword1">collate</span> utf8_bin, body_utf8 <span class="sql-keyword3">longblob</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> (db, <span class="sql-keyword1">name</span>) ) ENGINE=MyISAM <span class="sql-keyword1">DEFAULT</span> CHARSET=utf8 COMMENT <span class="sql-value">'Events'</span>;


<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> ndb_binlog_index (Position <span class="sql-keyword3">BIGINT</span> <span class="sql-keyword1">UNSIGNED</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, File <span class="sql-keyword3">VARCHAR</span>(<span class="sql-num">255</span>) <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, epoch <span class="sql-keyword3">BIGINT</span> <span class="sql-keyword1">UNSIGNED</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, inserts <span class="sql-keyword3">BIGINT</span> <span class="sql-keyword1">UNSIGNED</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, updates <span class="sql-keyword3">BIGINT</span> <span class="sql-keyword1">UNSIGNED</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, deletes <span class="sql-keyword3">BIGINT</span> <span class="sql-keyword1">UNSIGNED</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, schemaops <span class="sql-keyword3">BIGINT</span> <span class="sql-keyword1">UNSIGNED</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span>(epoch)) ENGINE=MYISAM;

<span class="sql-comment">--</span>
<span class="sql-comment">-- PERFORMANCE SCHEMA INSTALLATION</span>
<span class="sql-comment">-- Note that this script is also reused by mysql_upgrade,</span>
<span class="sql-comment">-- so we have to be very careful here to not destroy any</span>
<span class="sql-comment">-- existing database named 'performance_schema' if it</span>
<span class="sql-comment">-- can contain user data.</span>
<span class="sql-comment">-- In case of downgrade, it's ok to drop unknown tables</span>
<span class="sql-comment">-- from a future version, as long as they belong to the</span>
<span class="sql-comment">-- performance schema engine.</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">set</span> @have_old_pfs= (<span class="sql-keyword1">select</span> <span class="sql-keyword2">count</span>(*) <span class="sql-keyword1">from</span> information_schema.schemata <span class="sql-keyword1">where</span> schema_name=<span class="sql-value">'performance_schema'</span>);

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;SET @broken_tables = (select count(*) from information_schema.tables&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot; where engine != \'PERFORMANCE_SCHEMA\' and table_schema=\'performance_schema\')&quot;</span>;
<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2);

<span class="sql-comment">-- Work around for bug#49542</span>
<span class="sql-keyword1">SET</span> @str = IF(@have_old_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @broken_tables = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;SET @broken_views = (select count(*) from information_schema.views&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot; where table_schema='performance_schema')&quot;</span>;
<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2);

<span class="sql-comment">-- Work around for bug#49542</span>
<span class="sql-keyword1">SET</span> @str = IF(@have_old_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @broken_views = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-keyword1">SET</span> @broken_routines = (<span class="sql-keyword1">select</span> <span class="sql-keyword2">count</span>(*) <span class="sql-keyword1">from</span> mysql.proc <span class="sql-keyword1">where</span> db=<span class="sql-value">'performance_schema'</span>);

<span class="sql-keyword1">SET</span> @broken_events = (<span class="sql-keyword1">select</span> <span class="sql-keyword2">count</span>(*) <span class="sql-keyword1">from</span> mysql.event <span class="sql-keyword1">where</span> db=<span class="sql-value">'performance_schema'</span>);

<span class="sql-keyword1">SET</span> @broken_pfs= (<span class="sql-keyword1">select</span> @broken_tables + @broken_views + @broken_routines + @broken_events);

<span class="sql-comment">--</span>
<span class="sql-comment">-- The performance schema database.</span>
<span class="sql-comment">-- Only drop and create the database if this is safe (no broken_pfs).</span>
<span class="sql-comment">-- This database is created, even in --without-perfschema builds,</span>
<span class="sql-comment">-- so that the database name is always reserved by the MySQL implementation.</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @cmd= <span class="sql-value">&quot;DROP DATABASE IF EXISTS performance_schema&quot;</span>;

<span class="sql-keyword1">SET</span> @str = IF(@broken_pfs = <span class="sql-num">0</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-keyword1">SET</span> @cmd= <span class="sql-value">&quot;CREATE DATABASE performance_schema character set utf8&quot;</span>;

<span class="sql-keyword1">SET</span> @str = IF(@broken_pfs = <span class="sql-num">0</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- From this point, only create the performance schema tables</span>
<span class="sql-comment">-- if the server is build with performance schema</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">set</span> @have_pfs= (<span class="sql-keyword1">select</span> <span class="sql-keyword2">count</span>(engine) <span class="sql-keyword1">from</span> information_schema.engines <span class="sql-keyword1">where</span> engine=<span class="sql-value">'PERFORMANCE_SCHEMA'</span> <span class="sql-keyword1">and</span> support != <span class="sql-value">'NO'</span>);

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE COND_INSTANCES</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.cond_instances(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;NAME VARCHAR(128) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;OBJECT_INSTANCE_BEGIN BIGINT not null&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE EVENTS_WAITS_CURRENT</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.events_waits_current(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;THREAD_ID INTEGER not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;EVENT_ID BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;EVENT_NAME VARCHAR(128) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l5=<span class="sql-value">&quot;SOURCE VARCHAR(64),&quot;</span>;
<span class="sql-keyword1">SET</span> @l6=<span class="sql-value">&quot;TIMER_START BIGINT unsigned,&quot;</span>;
<span class="sql-keyword1">SET</span> @l7=<span class="sql-value">&quot;TIMER_END BIGINT unsigned,&quot;</span>;
<span class="sql-keyword1">SET</span> @l8=<span class="sql-value">&quot;TIMER_WAIT BIGINT unsigned,&quot;</span>;
<span class="sql-keyword1">SET</span> @l9=<span class="sql-value">&quot;SPINS INTEGER unsigned,&quot;</span>;
<span class="sql-keyword1">SET</span> @l10=<span class="sql-value">&quot;OBJECT_SCHEMA VARCHAR(64),&quot;</span>;
<span class="sql-keyword1">SET</span> @l11=<span class="sql-value">&quot;OBJECT_NAME VARCHAR(512),&quot;</span>;
<span class="sql-keyword1">SET</span> @l12=<span class="sql-value">&quot;OBJECT_TYPE VARCHAR(64),&quot;</span>;
<span class="sql-keyword1">SET</span> @l13=<span class="sql-value">&quot;OBJECT_INSTANCE_BEGIN BIGINT not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l14=<span class="sql-value">&quot;NESTING_EVENT_ID BIGINT unsigned,&quot;</span>;
<span class="sql-keyword1">SET</span> @l15=<span class="sql-value">&quot;OPERATION VARCHAR(16) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l16=<span class="sql-value">&quot;NUMBER_OF_BYTES BIGINT unsigned,&quot;</span>;
<span class="sql-keyword1">SET</span> @l17=<span class="sql-value">&quot;FLAGS INTEGER unsigned&quot;</span>;
<span class="sql-keyword1">SET</span> @l18=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5,@l6,@l7,@l8,@l9,@l10,@l11,@l12,@l13,@l14,@l15,@l16,@l17,@l18);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE EVENTS_WAITS_HISTORY</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.events_waits_history(&quot;</span>;
<span class="sql-comment">-- lines 2 to 18 are unchanged from EVENTS_WAITS_CURRENT</span>

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5,@l6,@l7,@l8,@l9,@l10,@l11,@l12,@l13,@l14,@l15,@l16,@l17,@l18);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE EVENTS_WAITS_HISTORY_LONG</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.events_waits_history_long(&quot;</span>;
<span class="sql-comment">-- lines 2 to 18 are unchanged from EVENTS_WAITS_CURRENT</span>

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5,@l6,@l7,@l8,@l9,@l10,@l11,@l12,@l13,@l14,@l15,@l16,@l17,@l18);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE EVENTS_WAITS_SUMMARY_BY_INSTANCE</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.events_waits_summary_by_instance(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;EVENT_NAME VARCHAR(128) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;OBJECT_INSTANCE_BEGIN BIGINT not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;COUNT_STAR BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l5=<span class="sql-value">&quot;SUM_TIMER_WAIT BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l6=<span class="sql-value">&quot;MIN_TIMER_WAIT BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l7=<span class="sql-value">&quot;AVG_TIMER_WAIT BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l8=<span class="sql-value">&quot;MAX_TIMER_WAIT BIGINT unsigned not null&quot;</span>;
<span class="sql-keyword1">SET</span> @l9=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5,@l6,@l7,@l8,@l9);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE EVENTS_WAITS_SUMMARY_BY_THREAD_BY_EVENT_NAME</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.events_waits_summary_by_thread_by_event_name(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;THREAD_ID INTEGER not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;EVENT_NAME VARCHAR(128) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;COUNT_STAR BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l5=<span class="sql-value">&quot;SUM_TIMER_WAIT BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l6=<span class="sql-value">&quot;MIN_TIMER_WAIT BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l7=<span class="sql-value">&quot;AVG_TIMER_WAIT BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l8=<span class="sql-value">&quot;MAX_TIMER_WAIT BIGINT unsigned not null&quot;</span>;
<span class="sql-keyword1">SET</span> @l9=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5,@l6,@l7,@l8,@l9);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE EVENTS_WAITS_SUMMARY_GLOBAL_BY_EVENT_NAME</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.events_waits_summary_global_by_event_name(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;EVENT_NAME VARCHAR(128) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;COUNT_STAR BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;SUM_TIMER_WAIT BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l5=<span class="sql-value">&quot;MIN_TIMER_WAIT BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l6=<span class="sql-value">&quot;AVG_TIMER_WAIT BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l7=<span class="sql-value">&quot;MAX_TIMER_WAIT BIGINT unsigned not null&quot;</span>;
<span class="sql-keyword1">SET</span> @l8=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5,@l6,@l7,@l8);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE FILE_INSTANCES</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.file_instances(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;FILE_NAME VARCHAR(512) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;EVENT_NAME VARCHAR(128) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;OPEN_COUNT INTEGER unsigned not null&quot;</span>;
<span class="sql-keyword1">SET</span> @l5=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE FILE_SUMMARY_BY_EVENT_NAME</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.file_summary_by_event_name(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;EVENT_NAME VARCHAR(128) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;COUNT_READ BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;COUNT_WRITE BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l5=<span class="sql-value">&quot;SUM_NUMBER_OF_BYTES_READ BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l6=<span class="sql-value">&quot;SUM_NUMBER_OF_BYTES_WRITE BIGINT unsigned not null&quot;</span>;
<span class="sql-keyword1">SET</span> @l7=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5,@l6,@l7);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE FILE_SUMMARY_BY_INSTANCE</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.file_summary_by_instance(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;FILE_NAME VARCHAR(512) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;EVENT_NAME VARCHAR(128) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;COUNT_READ BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l5=<span class="sql-value">&quot;COUNT_WRITE BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l6=<span class="sql-value">&quot;SUM_NUMBER_OF_BYTES_READ BIGINT unsigned not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l7=<span class="sql-value">&quot;SUM_NUMBER_OF_BYTES_WRITE BIGINT unsigned not null&quot;</span>;
<span class="sql-keyword1">SET</span> @l8=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5,@l6,@l7,@l8);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE MUTEX_INSTANCES</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.mutex_instances(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;NAME VARCHAR(128) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;OBJECT_INSTANCE_BEGIN BIGINT not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;LOCKED_BY_THREAD_ID INTEGER&quot;</span>;
<span class="sql-keyword1">SET</span> @l5=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE PERFORMANCE_TIMERS</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.performance_timers(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;TIMER_NAME ENUM ('CYCLE', 'NANOSECOND', 'MICROSECOND', 'MILLISECOND', 'TICK') not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;TIMER_FREQUENCY BIGINT,&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;TIMER_RESOLUTION BIGINT,&quot;</span>;
<span class="sql-keyword1">SET</span> @l5=<span class="sql-value">&quot;TIMER_OVERHEAD BIGINT&quot;</span>;
<span class="sql-keyword1">SET</span> @l6=<span class="sql-value">&quot;) ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5,@l6);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE RWLOCK_INSTANCES</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.rwlock_instances(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;NAME VARCHAR(128) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;OBJECT_INSTANCE_BEGIN BIGINT not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;WRITE_LOCKED_BY_THREAD_ID INTEGER,&quot;</span>;
<span class="sql-keyword1">SET</span> @l5=<span class="sql-value">&quot;READ_LOCKED_BY_COUNT INTEGER unsigned not null&quot;</span>;
<span class="sql-keyword1">SET</span> @l6=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5,@l6);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE SETUP_CONSUMERS</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.setup_consumers(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;NAME VARCHAR(64) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;ENABLED ENUM ('YES', 'NO') not null&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE SETUP_INSTRUMENTS</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.setup_instruments(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;NAME VARCHAR(128) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;ENABLED ENUM ('YES', 'NO') not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;TIMED ENUM ('YES', 'NO') not null&quot;</span>;
<span class="sql-keyword1">SET</span> @l5=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE SETUP_TIMERS</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.setup_timers(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;NAME VARCHAR(64) not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;TIMER_NAME ENUM ('CYCLE', 'NANOSECOND', 'MICROSECOND', 'MILLISECOND', 'TICK') not null&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-comment">--</span>
<span class="sql-comment">-- TABLE THREADS</span>
<span class="sql-comment">--</span>

<span class="sql-keyword1">SET</span> @l1=<span class="sql-value">&quot;CREATE TABLE performance_schema.threads(&quot;</span>;
<span class="sql-keyword1">SET</span> @l2=<span class="sql-value">&quot;THREAD_ID INTEGER not null,&quot;</span>;
<span class="sql-keyword1">SET</span> @l3=<span class="sql-value">&quot;PROCESSLIST_ID INTEGER,&quot;</span>;
<span class="sql-keyword1">SET</span> @l4=<span class="sql-value">&quot;NAME VARCHAR(128) not null&quot;</span>;
<span class="sql-keyword1">SET</span> @l5=<span class="sql-value">&quot;)ENGINE=PERFORMANCE_SCHEMA;&quot;</span>;

<span class="sql-keyword1">SET</span> @cmd=<span class="sql-keyword2">concat</span>(@l1,@l2,@l3,@l4,@l5);

<span class="sql-keyword1">SET</span> @str = IF(@have_pfs = <span class="sql-num">1</span>, @cmd, <span class="sql-value">'SET @dummy = 0'</span>);
<span class="sql-keyword1">PREPARE</span> stmt <span class="sql-keyword1">FROM</span> @str;
<span class="sql-keyword1">EXECUTE</span> stmt;
<span class="sql-keyword1">DROP</span> <span class="sql-keyword1">PREPARE</span> stmt;

<span class="sql-keyword1">CREATE</span> <span class="sql-keyword1">TABLE</span> IF <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">EXISTS</span> proxies_priv (Host <span class="sql-keyword3">char</span>(<span class="sql-num">60</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword1">User</span> <span class="sql-keyword3">char</span>(<span class="sql-num">16</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Proxied_host <span class="sql-keyword3">char</span>(<span class="sql-num">60</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Proxied_user <span class="sql-keyword3">char</span>(<span class="sql-num">16</span>) <span class="sql-keyword1">binary</span> <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, With_grant BOOL <span class="sql-keyword1">DEFAULT</span> <span class="sql-num">0</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, Grantor <span class="sql-keyword3">char</span>(<span class="sql-num">77</span>) <span class="sql-keyword1">DEFAULT</span> <span class="sql-value">''</span> <span class="sql-keyword1">NOT</span> <span class="sql-keyword1">NULL</span>, <span class="sql-keyword3">Timestamp</span> <span class="sql-keyword3">timestamp</span>, <span class="sql-keyword1">PRIMARY</span> <span class="sql-keyword1">KEY</span> Host (Host,<span class="sql-keyword1">User</span>,Proxied_host,Proxied_user), <span class="sql-keyword1">KEY</span> Grantor (Grantor) ) engine=MyISAM <span class="sql-keyword2">CHARACTER</span> <span class="sql-keyword1">SET</span> utf8 <span class="sql-keyword1">COLLATE</span> utf8_bin comment=<span class="sql-value">'User proxy privileges'</span>;

<span class="sql-comment">-- Remember for later if proxies_priv table already existed</span>
<span class="sql-keyword1">set</span> @had_proxies_priv_table= @@warning_count != <span class="sql-num">0</span>;

</pre></body></html>